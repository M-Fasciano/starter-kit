!function(e){var n={};function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(o,a,function(n){return e[n]}.bind(null,a));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var o=$("#search_input"),a=$("#search"),l=function(e){return e*Math.PI/180},i=[{lat:"51.59034",lng:"-0.627991",name:"Beaconsfield (ITM Powers / Shell)",type:"refuellingStation"},{lat:"51.304943",lng:"-0.409693",name:"Cobham (ITM Powers / Shell)",type:"refuellingStation"},{lat:"51.468825",lng:"-0.419951",name:"Heathrow - Hatton Cross (Air Products)",type:"refuellingStation"},{lat:"51.421183",lng:"-0.341117",name:"Teddington (ITM Powers)",type:"refuellingStation"},{lat:"51.517664",lng:"0.171135",name:"Rainham (ITM Powers)",type:"refuellingStation"},{lat:"51.548001",lng:"-1.855409",name:"Swindon (ITM Powers)",type:"refuellingStation"},{lat:"53.385973",lng:"-1.378808",name:"Rotherham (ITM Powers)",type:"refuellingStation"},{lat:"57.16059",lng:"-2.114124",name:"Aberdeen (BOC)",type:"refuellingStation"},{lat:"52.461297",lng:"-1.843181",name:"Birmingham (ITM Powers)",type:"refuellingStationComingSoon"},{lat:"51.16307",lng:"-0.173437",name:"Gatwick (ITM Powers / Shell)",type:"refuellingStationComingSoon"},{lat:"51.522133",lng:"-0.634341",name:"Johnsons Hyundai - Slough",type:"servicingDealer"},{lat:"51.260499",lng:"-0.564738",name:"Richmond Hyundai - Guildford",type:"servicingDealer"},{lat:"51.134905",lng:"-0.176056",name:"Motorline Hyundai - Gatwick",type:"servicingDealer"},{lat:"51.585633",lng:"0.17033",name:"East London Hyundai",type:"servicingDealer"},{lat:"51.5594647",lng:"-1.8064122",name:"Pebley Beach Hyundai",type:"servicingDealer"},{lat:"52.466233",lng:"-1.773128",name:"Motorfair",type:"servicingDealer"},{lat:"52.9363836",lng:"-1.4668737",name:"Beechdale Hyundai",type:"servicingDealer"},{lat:"53.401578",lng:"-1.490288",name:"Stoneacre Hyundai - Sheffield",type:"servicingDealer"},{lat:"57.126388",lng:"-2.09337",name:"Arnold Clark - Aberdeen",type:"servicingDealer"}],r=function(){var e,n,t=document,o=t.getElementById("map"),a=t.getElementById("search"),r=t.getElementById("modal"),g=t.getElementsByClassName("close")[0],s=[],u=t.getElementById("latitude").value,c=t.getElementById("longitude").value,p={refuellingStation:{icon:"/images/refueling.png"},refuellingStationComingSoon:{icon:"/images/refueling_coming_soon.png"},servicingDealer:{icon:"/images/service_dealer.png"}};g.onclick=function(){r.style.display="none"},window.initMap=function(){var g=new google.maps.InfoWindow;e=new google.maps.LatLngBounds,n=new google.maps.Map(o,{zoom:6,center:{lat:54.829156,lng:-2.751222},mapTypeId:google.maps.MapTypeId.ROADMAP});var d=function(t){var o=new google.maps.LatLng(t.position.lat(),t.position.lng());e.extend(o),n.fitBounds(e),n.panToBounds(e)};i.forEach(function(e){var t=new google.maps.Marker({name:e.name,position:new google.maps.LatLng(e.lat,e.lng),icon:p[e.type].icon,map:n});s.push(t),google.maps.event.addListener(t,"mouseover",function(){g.setContent(e.name),g.open(n,t)}),google.maps.event.addListener(t,"mouseout",function(){g.close()})}),a.addEventListener("click",function(){var o=t.getElementById("search_input").value;!function(){for(var n=0;n<s.length;n++)s[n].setMap(null);e=new google.maps.LatLngBounds}(),fetch("http://api.postcodes.io/postcodes/".concat(o)).then(function(e){return e.json()}).then(function(e){var t=e.result,o=t.latitude,a=t.longitude;u=o,c=a;var m=0;i.forEach(function(e){var t=parseFloat(e.lat),o=parseFloat(e.lng);!function(){if((.62137119224*function(e,n,t,o){var a=l(t-e),i=l(o-n),r=l(e),g=l(t),s=Math.sin(a/2)*Math.sin(a/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(r)*Math.cos(g);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371}(u,c,t,o)).toFixed(2)<33){m+=1;var a=new google.maps.Marker({name:e.name,position:new google.maps.LatLng(e.lat,e.lng),icon:p[e.type].icon,map:n});s.push(a),d(a),google.maps.event.addListener(a,"mouseover",function(){g.setContent(e.name),g.open(n,a)}),google.maps.event.addListener(a,"mouseout",function(){g.close()})}}()}),m<1&&(r.style.display="flex"),function(){var e=new google.maps.Marker({map:n,animation:google.maps.Animation.DROP,position:{lat:u,lng:c}});d(e)}()})})}};document.addEventListener("DOMContentLoaded",function(){o.keyup(function(e){return""===e.target.value?a.prop("disabled",!0):a.prop("disabled",!1)}),r()})}]);
//# sourceMappingURL=main.min.js.map
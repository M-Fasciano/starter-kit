!function(e){var n={};function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(a,o,function(n){return e[n]}.bind(null,o));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var a=$("#search_input"),o=$("#search"),i=function(e){return e*Math.PI/180},r=[{lat:"51.59034",lng:"-0.627991",name:"Beaconsfield (ITM Powers / Shell)",type:"refuellingStation"},{lat:"51.304943",lng:"-0.409693",name:"Cobham (ITM Powers / Shell)",type:"refuellingStation"},{lat:"51.468825",lng:"-0.419951",name:"Heathrow - Hatton Cross (Air Products)",type:"refuellingStation"},{lat:"51.421183",lng:"-0.341117",name:"Teddington (ITM Powers)",type:"refuellingStation"},{lat:"51.517664",lng:"0.171135",name:"Rainham (ITM Powers)",type:"refuellingStation"},{lat:"51.548001",lng:"-1.855409",name:"Swindon (ITM Powers)",type:"refuellingStation"},{lat:"53.385973",lng:"-1.378808",name:"Rotherham (ITM Powers)",type:"refuellingStation"},{lat:"57.16059",lng:"-2.114124",name:"Aberdeen (BOC)",type:"refuellingStation"},{lat:"52.461297",lng:"-1.843181",name:"Birmingham (ITM Powers)",type:"refuellingStationComingSoon"},{lat:"51.16307",lng:"-0.173437",name:"Gatwick (ITM Powers / Shell)",type:"refuellingStationComingSoon"},{lat:"51.522133",lng:"-0.634341",name:"Johnsons Hyundai - Slough",type:"servicingDealer"},{lat:"51.260499",lng:"-0.564738",name:"Richmond Hyundai - Guildford",type:"servicingDealer"},{lat:"51.134905",lng:"-0.176056",name:"Motorline Hyundai - Gatwick",type:"servicingDealer"},{lat:"51.585633",lng:"0.17033",name:"East London Hyundai",type:"servicingDealer"},{lat:"51.5594647",lng:"-1.8064122",name:"Pebley Beach Hyundai",type:"servicingDealer"},{lat:"52.466233",lng:"-1.773128",name:"Motorfair",type:"servicingDealer"},{lat:"52.9363836",lng:"-1.4668737",name:"Beechdale Hyundai",type:"servicingDealer"},{lat:"53.401578",lng:"-1.490288",name:"Stoneacre Hyundai - Sheffield",type:"servicingDealer"},{lat:"57.126388",lng:"-2.09337",name:"Arnold Clark - Aberdeen",type:"servicingDealer"}],l=function(){var e,n,t=document,a=t.getElementById("map"),o=t.getElementById("search"),l=[],g=t.getElementById("latitude").value,u=t.getElementById("longitude").value,s={refuellingStation:{icon:"/images/refueling.png"},refuellingStationComingSoon:{icon:"/images/refueling_coming_soon.png"},servicingDealer:{icon:"/images/service_dealer.png"}};window.initMap=function(){var c=new google.maps.InfoWindow;e=new google.maps.LatLngBounds,n=new google.maps.Map(a,{zoom:6,center:{lat:54.829156,lng:-2.751222},mapTypeId:google.maps.MapTypeId.ROADMAP});var p=function(t){var a=new google.maps.LatLng(t.position.lat(),t.position.lng());e.extend(a),n.fitBounds(e),n.panToBounds(e)};r.forEach(function(e){var t=new google.maps.Marker({name:e.name,position:new google.maps.LatLng(e.lat,e.lng),icon:s[e.type].icon,map:n});l.push(t),google.maps.event.addListener(t,"mouseover",function(){c.setContent(e.name),c.open(n,t)}),google.maps.event.addListener(t,"mouseout",function(){c.close()})}),o.addEventListener("click",function(){var a=t.getElementById("search_input").value;!function(){for(var n=0;n<l.length;n++)l[n].setMap(null);e=new google.maps.LatLngBounds}(),fetch("http://api.postcodes.io/postcodes/".concat(a)).then(function(e){return e.json()}).then(function(e){var t=e.result,a=t.latitude,o=t.longitude;g=a,u=o;var d=0;r.forEach(function(e){var t=parseFloat(e.lat),a=parseFloat(e.lng);!function(){if((.62137119224*function(e,n,t,a){var o=i(t-e),r=i(a-n),l=i(e),g=i(t),u=Math.sin(o/2)*Math.sin(o/2)+Math.sin(r/2)*Math.sin(r/2)*Math.cos(l)*Math.cos(g);return 2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))*6371}(g,u,t,a)).toFixed(2)<33){d+=1;var o=new google.maps.Marker({name:e.name,position:new google.maps.LatLng(e.lat,e.lng),icon:s[e.type].icon,map:n});l.push(o),p(o),google.maps.event.addListener(o,"mouseover",function(){c.setContent(e.name),c.open(n,o)}),google.maps.event.addListener(o,"mouseout",function(){c.close()})}}()}),d<1&&alert("There are no refuelling stations or servicing dealers near you."),function(){var e=new google.maps.Marker({map:n,animation:google.maps.Animation.DROP,position:{lat:g,lng:u}});p(e)}()})})}};document.addEventListener("DOMContentLoaded",function(){a.keyup(function(e){return""===e.target.value?o.prop("disabled",!0):o.prop("disabled",!1)}),l()})}]);
//# sourceMappingURL=main.min.js.map